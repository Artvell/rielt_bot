# -*- coding: utf8 -*-
from telebot.types import ReplyKeyboardMarkup,KeyboardButton,InlineKeyboardMarkup,InlineKeyboardButton
import calendar
import datetime
from config import months
import calendar

def sel_distr():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b1=KeyboardButton("ÐœÐ¸Ñ€Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b2=KeyboardButton("ÐœÐ¸Ñ€Ð·Ð¾ Ð£Ð»ÑƒÐ³Ð±ÐµÐºÑÐºÐ¸Ð¹")
    b3=KeyboardButton("ÐžÐ»Ð¼Ð°Ð·Ð°Ñ€ÑÐºÐ¸Ð¹")
    b4=KeyboardButton("Ð¡ÐµÑ€Ð³ÐµÐ»Ð¸Ð¹ÑÐºÐ¸Ð¹")
    b5=KeyboardButton("Ð£Ñ‡Ñ‚ÐµÐ¿Ð¸Ð½ÑÐºÐ¸Ð¹")
    b6=KeyboardButton("Ð§Ð¸Ð»Ð°Ð½Ð·Ð°Ñ€ÑÐºÐ¸Ð¹")
    b7=KeyboardButton("Ð¨Ð°Ð¹Ñ…Ð°Ð½Ñ‚Ð¾Ñ…ÑƒÑ€ÑÐºÐ¸Ð¹")
    b8=KeyboardButton("Ð®Ð½ÑƒÑÐ°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b9=KeyboardButton("Ð¯ÑˆÐ½Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b10=KeyboardButton("Ð¯ÐºÐºÐ°ÑÐ°Ñ€Ð°Ð¹ÑÐºÐ¸Ð¹")
    b11=KeyboardButton("â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
    kb.row(b1,b2)
    kb.row(b3,b4)
    kb.row(b5,b6)
    kb.row(b7,b8)
    kb.row(b9,b10)
    kb.row(b11)
    return kb

def sel_type():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b1=KeyboardButton("ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ° ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹")
    b2=KeyboardButton("ÐÑ€ÐµÐ½Ð´Ð° ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹")
    b3=KeyboardButton("Ð¥Ð¾Ñ‡Ñƒ Ð¿Ñ€Ð¾Ð´Ð°Ñ‚ÑŒ(ÑÐ´Ð°Ñ‚ÑŒ) ÑÐ²Ð¾ÑŽ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñƒ")
    #bb=KeyboardButton("â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
    kb.row(b1,b2)
    kb.row(b3)
    #kb.row(bb)
    return kb

def sel_rooms():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b1=KeyboardButton("1 ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°")
    b2=KeyboardButton("2 ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹")
    b3=KeyboardButton("3 ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹")
    b4=KeyboardButton("4 ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹")
    b5=KeyboardButton("5 ÐºÐ¾Ð¼Ð½Ð°Ñ‚")
    bb=KeyboardButton("â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
    kb.row(b1,b2)
    kb.row(b3,b4)
    kb.row(b5)
    kb.row(bb)
    return kb

def sel_sost():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b=KeyboardButton("Ð¡ Ñ€ÐµÐ¼Ð¾Ð½Ñ‚Ð¾Ð¼")
    b1=KeyboardButton("Ð‘ÐµÐ· Ñ€ÐµÐ¼Ð¾Ð½Ñ‚Ð°")
    bb=KeyboardButton("â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
    kb.row(b,b1)
    kb.row(bb)
    return kb

def fin():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b1=KeyboardButton("ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ")
    b2=KeyboardButton("Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ")
    b3=KeyboardButton("Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ")
    kb.row(b1)
    kb.row(b2)
    kb.row(b3)
    return kb

def fin2():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b1=KeyboardButton("ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ")
    b2=KeyboardButton("Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ")
    kb.row(b1)
    kb.row(b2)
    return kb

def change(lon,lat):
    kb=InlineKeyboardMarkup()
    b=InlineKeyboardButton("â™»ï¸ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",callback_data="obnov")
    b1=InlineKeyboardButton("â¬…ï¸ ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ",callback_data="prev")
    b2=InlineKeyboardButton("Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ âž¡ï¸",callback_data="next")
    b4=InlineKeyboardButton("ðŸ“… Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´ÐµÐ½ÑŒ",callback_data="calendar")
    kb.row(b)
    kb.row(b1,b2)
    if lon!="-----" and lat!="-----":
        coord="#"+lon+"#"+lat
        b3=InlineKeyboardButton("ðŸŒŽ ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ",callback_data=coord)
        kb.row(b3,b4)
    else:    
        kb.row(b4)
    return kb

def closing():
    kb=InlineKeyboardMarkup()
    b1=InlineKeyboardButton("âŒ Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",callback_data="closing")
    kb.row(b1)
    return kb

def calend(k):
    now=datetime.datetime.now()
    cal_kb=InlineKeyboardMarkup(row_width=7)
    b_list=[]
    y,m=0,0
    if now.month+k>12:
        y+=1
        m=(now.month+k)-12
    else:
        m=now.month+k
    t=months[calendar.month_abbr[m]]+" "+str(now.year+y)
    cal_kb.row(InlineKeyboardButton(t,callback_data=' '))
    for i in range(1,calendar.monthrange(now.year+y,m)[1]+1):
        if k==0:
            if i<now.day:
                b_list.append(InlineKeyboardButton(' ',callback_data=" "))
            else:
                b_list.append(InlineKeyboardButton(str(i),callback_data=str(i)))
        else:
            b_list.append(InlineKeyboardButton(str(i),callback_data=str(i)))
    for i in range(0,23,7):
        cal_kb.row(b_list[i],b_list[i+1],b_list[i+2],b_list[i+3],b_list[i+4],b_list[i+5],b_list[i+6])
    if calendar.monthrange(now.year+y,m)[1]==29:
        cal_kb.row(b_list[-1])
    elif calendar.monthrange(now.year+y,m)[1]==30:
        cal_kb.row(b_list[-2],b_list[-1])
    elif calendar.monthrange(now.year+y,m)[1]==31:
        cal_kb.row(b_list[-3],b_list[-2],b_list[-1])
    cal_kb.row(InlineKeyboardButton("â¬…ï¸",callback_data="calend_prev"),InlineKeyboardButton("âž¡ï¸",callback_data="calend_next"))
    cal_kb.row(InlineKeyboardButton("âŒ Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",callback_data="closing"))
    return cal_kb

def cont():
    phone=KeyboardButton("ðŸ“ž ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚",request_contact=True)
    back=KeyboardButton('â—€ï¸ ÐÐ°Ð·Ð°Ð´')
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    kb.row(phone)
    kb.row(back)
    return kb

def not_found():
    kb=ReplyKeyboardMarkup(resize_keyboard=True)
    b2=KeyboardButton("Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ")
    kb.row(b2)
    return kb    

def himself():
    kb=InlineKeyboardMarkup()
    b1=InlineKeyboardButton("ÐœÐ¸Ñ€Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹",callback_data="ÐœÐ¸Ñ€Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b2=InlineKeyboardButton("ÐœÐ¸Ñ€Ð·Ð¾ Ð£Ð»ÑƒÐ³Ð±ÐµÐºÑÐºÐ¸Ð¹",callback_data="ÐœÐ¸Ñ€Ð·Ð¾ Ð£Ð»ÑƒÐ³Ð±ÐµÐºÑÐºÐ¸Ð¹")
    b3=InlineKeyboardButton("ÐžÐ»Ð¼Ð°Ð·Ð°Ñ€ÑÐºÐ¸Ð¹",callback_data="ÐžÐ»Ð¼Ð°Ð·Ð°Ñ€ÑÐºÐ¸Ð¹")
    b4=InlineKeyboardButton("Ð¡ÐµÑ€Ð³ÐµÐ»Ð¸Ð¹ÑÐºÐ¸Ð¹",callback_data="Ð¡ÐµÑ€Ð³ÐµÐ»Ð¸Ð¹ÑÐºÐ¸Ð¹")
    b5=InlineKeyboardButton("Ð£Ñ‡Ñ‚ÐµÐ¿Ð¸Ð½ÑÐºÐ¸Ð¹",callback_data="Ð£Ñ‡Ñ‚ÐµÐ¿Ð¸Ð½ÑÐºÐ¸Ð¹")
    b6=InlineKeyboardButton("Ð§Ð¸Ð»Ð°Ð½Ð·Ð°Ñ€ÑÐºÐ¸Ð¹",callback_data="Ð§Ð¸Ð»Ð°Ð½Ð·Ð°Ñ€ÑÐºÐ¸Ð¹")
    b7=InlineKeyboardButton("Ð¨Ð°Ð¹Ñ…Ð°Ð½Ñ‚Ð¾Ñ…ÑƒÑ€ÑÐºÐ¸Ð¹",callback_data="Ð¨Ð°Ð¹Ñ…Ð°Ð½Ñ‚Ð¾Ñ…ÑƒÑ€ÑÐºÐ¸Ð¹")
    b8=InlineKeyboardButton("Ð®Ð½ÑƒÑÐ°Ð±Ð°Ð´ÑÐºÐ¸Ð¹",callback_data="Ð®Ð½ÑƒÑÐ°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b9=InlineKeyboardButton("Ð¯ÑˆÐ½Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹",callback_data="Ð¯ÑˆÐ½Ð°Ð±Ð°Ð´ÑÐºÐ¸Ð¹")
    b10=InlineKeyboardButton("Ð¯ÐºÐºÐ°ÑÐ°Ñ€Ð°Ð¹ÑÐºÐ¸Ð¹",callback_data="Ð¯ÐºÐºÐ°ÑÐ°Ñ€Ð°Ð¹ÑÐºÐ¸Ð¹")
    b11=InlineKeyboardButton("â¬…ï¸ ÐÐ°Ð·Ð°Ð´",callback_data="â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
    kb.row(b1,b2)
    kb.row(b3,b4)
    kb.row(b5,b6)
    kb.row(b7,b8)
    kb.row(b9,b10)
    kb.row(b11)
    return kb